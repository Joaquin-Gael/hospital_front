<div class="steps-indicator" @fadeInOut>
  <div class="steps-track">
    <div
      class="steps-progress"
      [style.width.%]="(currentStep / totalSteps) * 100"
    ></div>
  </div>
  <div class="steps-circles">
    @for (step of stepsArray; track step; let i = $index) {
      <div
        class="step-circle"
        [class.active]="currentStep >= step"
        [class.completed]="currentStep > step"
        (click)="onStepClick(step)"
        [attr.aria-label]="'Ir al paso ' + step"
      >
        @if (currentStep <= step) {
          <span class="step-number">{{ step }}</span>
        }
        @if (currentStep > step) {
          <i class="material-icons step-check">check</i>
        }
      </div>
    }
  </div>
  <div class="steps-labels">
    <span class="step-label">Servicio</span>
    <span class="step-label">Fecha</span>
    <span class="step-label">Hora</span>
    @if (totalSteps === 5) {
      <span class="step-label">Obra Social</span>
    }
    <span class="step-label">Motivo y Pago</span>
  </div>
</div>