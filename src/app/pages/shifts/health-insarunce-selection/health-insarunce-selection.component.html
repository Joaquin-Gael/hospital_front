<div class="health-insurance-selection">
  <h3>Selecciona tu obra social</h3>
  <p>Elige una de tus obras sociales para aplicar el descuento correspondiente.</p>
  <div class="insurance-list">
    @for (insurance of healthInsurances; track insurance.id) {
      <div>
        <label class="insurance-label">
          <input
            type="radio"
            [value]="insurance.id"
            [formControl]="healthInsuranceControl"
            (change)="onInsuranceChange(insurance.id)"
          />
          <span>{{ insurance.name }} (Descuento: {{ insurance.discount }}%)</span>
        </label>
      </div>
      } @empty {
        <div class="no-insurances">
          No tienes obras sociales asociadas.
        </div>
      }
  </div>
  @if (healthInsuranceControl.invalid && healthInsuranceControl.touched) {
    <div *ngIf="healthInsuranceControl.invalid && healthInsuranceControl.touched" class="error-message">
      Debes seleccionar una obra social.
    </div>
  } @else {
    <div class="error-message">{{ error }}</div>
  }
</div>