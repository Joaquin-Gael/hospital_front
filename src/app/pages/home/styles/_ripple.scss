@use './_variables-moderns.scss' as vars;

@mixin ripple($color: color-mix(in srgb, var(--text-white) 30%, transparent), $duration: 600ms) {
  &{
    position: relative;
    overflow: hidden;
    cursor: pointer;
    z-index: 0;
  }
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: $color;
    transform: translate(-50%, -50%);
    transition: width $duration cubic-bezier(0.4, 0, 0.2, 1), height $duration cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    z-index: 1;
  }

  &:active::before {
    width: vars.$ripple-size;
    height: vars.$ripple-size;
  }

  &:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
    border-radius: var(--border-radius-sm);
  }

  @media (hover: none) {
    &:active::before {
      width: vars.$ripple-size-touch;
      height: vars.$ripple-size-touch;
    }
  }
}

@mixin ripple-dark($opacity: 0.15) {
  @include ripple(color-mix(in srgb, #000 #{percentage($opacity)}, transparent));
}

@mixin ripple-light($opacity: 0.25) {
  @include ripple(color-mix(in srgb, var(--text-white) #{percentage($opacity)}, transparent));
}

@mixin ripple-primary() {
  @include ripple(color-mix(in srgb, var(--color-primary) 30%, transparent));
}

@mixin ripple-medical() {
  @include ripple(color-mix(in srgb, var(--color-primary) 25%, transparent));
}

@mixin ripple-success() {
  @include ripple(color-mix(in srgb, var(--color-success) 30%, transparent));
}

@mixin ripple-emergency() {
  @include ripple(color-mix(in srgb, var(--color-error) 30%, transparent));
}

// Ripple especializado para botones m√©dicos
@mixin medical-button-ripple($variant: 'primary') {
  @if $variant == 'primary' {
    @include ripple-primary();
  } @else if $variant == 'success' {
    @include ripple-success();
  } @else if $variant == 'emergency' {
    @include ripple-emergency();
  } @else {
    @include ripple-light();
  }
}