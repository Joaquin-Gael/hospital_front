<div class="dashboard">
  <app-sidebar
    [user]="user"
    [activeSection]="activeSection"
    (sectionChange)="changeSection($event)"
    (logout)="onLogout()"
  ></app-sidebar>
  <div class="main-content">
    <app-header [activeSection]="activeSection"></app-header>
    <div class="content">
      <div *ngIf="loading" class="loading">Cargando...</div>
      <div *ngIf="error" class="error">{{ error }}</div>
      <app-appointments
        *ngIf="activeSection === 'appointments' && !loading && !error"
        [appointments]="appointments"
        (reschedule)="onRescheduleAppointment($event)"
        (cancel)="onCancelAppointment($event)"
        (newAppointment)="onNewAppointment()"
      ></app-appointments>
      <app-history
        *ngIf="activeSection === 'history' && !loading && !error"
        [appointments]="appointmentHistory"
        (viewDetails)="onViewDetails($event)"
        (downloadReceipt)="onDownloadReceipt($event)"
      ></app-history>
      <app-notifications
        *ngIf="activeSection === 'notifications' && !loading && !error"
        [notifications]="notifications"
        (markAsRead)="markAsRead($event)"
      ></app-notifications>
      <app-documents
        *ngIf="activeSection === 'documents' && !loading && !error"
        [documents]="documents"
      ></app-documents>
      <app-profile
        *ngIf="activeSection === 'profile' && !loading && !error"
        [user]="user"
        (editProfile)="onEditProfile()"
        (changePassword)="onChangePassword()"
      ></app-profile>
    </div>
  </div>
</div>